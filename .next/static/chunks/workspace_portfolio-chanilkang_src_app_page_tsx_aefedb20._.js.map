{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/chanilkang/workspace/portfolio-chanilkang/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport { useEffect, useState, useCallback, useRef } from \"react\";\nimport {\n  motion,\n  useMotionValue,\n  useTransform,\n  useSpring,\n  AnimatePresence,\n} from \"framer-motion\";\n\ntype InteractionMode = \"mouse\" | \"gyro\" | \"touch\" | \"none\";\n\nexport default function Home() {\n  const [mounted, setMounted] = useState(false);\n  const [mode, setMode] = useState<InteractionMode>(\"none\");\n  const [showPermissionPrompt, setShowPermissionPrompt] = useState(false);\n  const [debugInfo, setDebugInfo] = useState(\"\");\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Input tracking (normalized 0-1)\n  const inputX = useMotionValue(0.5);\n  const inputY = useMotionValue(0.5);\n\n  // Spring physics config - Heavy metallic feel\n  const springConfig = {\n    stiffness: 150,\n    damping: 30,\n    mass: 2,\n  };\n\n  // Apply spring physics\n  const smoothX = useSpring(inputX, springConfig);\n  const smoothY = useSpring(inputY, springConfig);\n\n  // Transform to rotation values (-15deg to 15deg)\n  const rotateY = useTransform(smoothX, [0, 1], [-15, 15]);\n  const rotateX = useTransform(smoothY, [0, 1], [15, -15]);\n\n  // Sheen/lighting effect\n  const sheenX = useTransform(smoothX, [0, 1], [\"150%\", \"-50%\"]);\n  const sheenY = useTransform(smoothY, [0, 1], [\"150%\", \"-50%\"]);\n\n  // Handle device orientation (gyroscope)\n  const handleDeviceOrientation = useCallback(\n    (e: DeviceOrientationEvent) => {\n      if (e.gamma === null || e.beta === null) return;\n\n      // gamma: left-right tilt (-90 to 90)\n      // beta: front-back tilt (-180 to 180)\n      const normalizedX = Math.min(Math.max((e.gamma + 30) / 60, 0), 1);\n      const normalizedY = Math.min(Math.max((e.beta - 30) / 60, 0), 1);\n\n      inputX.set(normalizedX);\n      inputY.set(normalizedY);\n      setDebugInfo(`γ:${e.gamma.toFixed(0)}° β:${e.beta.toFixed(0)}°`);\n    },\n    [inputX, inputY]\n  );\n\n  // Request iOS permission\n  const requestPermission = async () => {\n    if (\n      typeof DeviceOrientationEvent !== \"undefined\" &&\n      // @ts-expect-error - requestPermission is iOS specific\n      typeof DeviceOrientationEvent.requestPermission === \"function\"\n    ) {\n      try {\n        // @ts-expect-error - requestPermission is iOS specific\n        const permission = await DeviceOrientationEvent.requestPermission();\n        if (permission === \"granted\") {\n          window.addEventListener(\"deviceorientation\", handleDeviceOrientation);\n          setMode(\"gyro\");\n          setShowPermissionPrompt(false);\n        } else {\n          // Permission denied - fallback to touch\n          setMode(\"touch\");\n          setShowPermissionPrompt(false);\n        }\n      } catch (error) {\n        console.error(\"Permission error:\", error);\n        setMode(\"touch\");\n        setShowPermissionPrompt(false);\n      }\n    }\n  };\n\n  // Handle mouse movement (desktop)\n  const handleMouseMove = useCallback(\n    (e: MouseEvent) => {\n      const { clientX, clientY } = e;\n      const { innerWidth, innerHeight } = window;\n      inputX.set(clientX / innerWidth);\n      inputY.set(clientY / innerHeight);\n    },\n    [inputX, inputY]\n  );\n\n  // Handle touch movement (mobile fallback)\n  const handleTouchMove = useCallback(\n    (e: TouchEvent) => {\n      if (e.touches.length === 0) return;\n      const touch = e.touches[0];\n      const { innerWidth, innerHeight } = window;\n      inputX.set(touch.clientX / innerWidth);\n      inputY.set(touch.clientY / innerHeight);\n    },\n    [inputX, inputY]\n  );\n\n  useEffect(() => {\n    setMounted(true);\n\n    const isMobile =\n      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n        navigator.userAgent\n      ) || window.matchMedia(\"(pointer: coarse)\").matches;\n\n    const isSecure =\n      location.protocol === \"https:\" || location.hostname === \"localhost\";\n\n    if (!isMobile) {\n      // Desktop - use mouse\n      window.addEventListener(\"mousemove\", handleMouseMove);\n      setMode(\"mouse\");\n    } else if (!isSecure) {\n      // Mobile but not HTTPS - use touch only\n      setDebugInfo(\"HTTPS required for gyro\");\n      window.addEventListener(\"touchmove\", handleTouchMove);\n      setMode(\"touch\");\n    } else if (\n      typeof DeviceOrientationEvent !== \"undefined\" &&\n      // @ts-expect-error - requestPermission is iOS specific\n      typeof DeviceOrientationEvent.requestPermission === \"function\"\n    ) {\n      // iOS 13+ - need permission\n      setShowPermissionPrompt(true);\n      // Also add touch as backup\n      window.addEventListener(\"touchmove\", handleTouchMove);\n    } else if (typeof DeviceOrientationEvent !== \"undefined\") {\n      // Android or older iOS - try gyro directly\n      window.addEventListener(\"deviceorientation\", handleDeviceOrientation);\n      window.addEventListener(\"touchmove\", handleTouchMove);\n\n      // Check if gyro actually works after a short delay\n      setTimeout(() => {\n        if (mode === \"none\") {\n          setMode(\"touch\");\n          setDebugInfo(\"Gyro not available\");\n        }\n      }, 1000);\n\n      setMode(\"gyro\");\n    } else {\n      // No gyro support - touch only\n      window.addEventListener(\"touchmove\", handleTouchMove);\n      setMode(\"touch\");\n    }\n\n    return () => {\n      window.removeEventListener(\"mousemove\", handleMouseMove);\n      window.removeEventListener(\"touchmove\", handleTouchMove);\n      window.removeEventListener(\"deviceorientation\", handleDeviceOrientation);\n    };\n  }, [handleMouseMove, handleTouchMove, handleDeviceOrientation, mode]);\n\n  return (\n    <main\n      ref={containerRef}\n      className=\"h-screen w-full bg-black flex items-center justify-center overflow-hidden touch-none\"\n    >\n      {/* Debug Info - temporary */}\n      <div className=\"fixed top-4 left-4 text-white/50 text-xs font-mono z-50\">\n        Mode: {mode} {debugInfo && `| ${debugInfo}`}\n      </div>\n\n      {/* iOS Permission Prompt */}\n      <AnimatePresence>\n        {showPermissionPrompt && (\n          <motion.button\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n            onClick={requestPermission}\n            className=\"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-6 py-3 bg-white/10 backdrop-blur-md border border-white/20 rounded-full text-white text-sm font-medium active:bg-white/30 transition-colors\"\n          >\n            탭하여 기울기 인터랙션 활성화 ✨\n          </motion.button>\n        )}\n      </AnimatePresence>\n\n      {/* Touch hint for touch mode */}\n      <AnimatePresence>\n        {mode === \"touch\" && mounted && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ delay: 2 }}\n            className=\"fixed bottom-8 left-1/2 -translate-x-1/2 text-white/30 text-xs\"\n          >\n            화면을 터치하고 드래그해보세요\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* 3D Perspective Container */}\n      <div\n        className=\"relative\"\n        style={{\n          perspective: \"1200px\",\n          perspectiveOrigin: \"center center\",\n        }}\n      >\n        <AnimatePresence>\n          {mounted && (\n            <motion.div\n              initial={{\n                opacity: 0,\n                scale: 0.8,\n                z: -200,\n              }}\n              animate={{\n                opacity: 1,\n                scale: 1,\n                z: 0,\n              }}\n              transition={{\n                duration: 1.5,\n                ease: [0.16, 1, 0.3, 1],\n              }}\n              style={{\n                rotateX,\n                rotateY,\n                transformStyle: \"preserve-3d\",\n              }}\n              className=\"relative w-[70vw] max-w-2xl aspect-square\"\n            >\n              {/* Main Image */}\n              <Image\n                src=\"/imgs/dmt-glassmorphism.png\"\n                alt=\"Antigravity Hero - CIK Logo\"\n                fill\n                priority\n                className=\"object-contain\"\n                style={{\n                  transform: \"translateZ(50px)\",\n                }}\n              />\n\n              {/* Sheen/Lighting overlay */}\n              <motion.div\n                className=\"absolute inset-0 pointer-events-none\"\n                style={{\n                  background: `radial-gradient(\n                    circle at 50% 50%,\n                    rgba(255, 255, 255, 0.15) 0%,\n                    rgba(255, 255, 255, 0.05) 30%,\n                    transparent 70%\n                  )`,\n                  x: sheenX,\n                  y: sheenY,\n                  transform: \"translateZ(60px)\",\n                }}\n              />\n\n              {/* Subtle glow effect underneath */}\n              <motion.div\n                className=\"absolute inset-0 -z-10\"\n                style={{\n                  background: `radial-gradient(\n                    ellipse at center,\n                    rgba(120, 120, 255, 0.1) 0%,\n                    transparent 60%\n                  )`,\n                  transform: \"translateZ(-20px) scale(1.5)\",\n                  filter: \"blur(40px)\",\n                }}\n              />\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n\n      {/* Ambient background glow */}\n      <div\n        className=\"fixed inset-0 pointer-events-none -z-10\"\n        style={{\n          background: `radial-gradient(\n            ellipse 80% 50% at 50% 50%,\n            rgba(30, 30, 60, 0.4) 0%,\n            transparent 50%\n          )`,\n        }}\n      />\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}